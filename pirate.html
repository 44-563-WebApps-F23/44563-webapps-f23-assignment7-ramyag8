<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        h1 {
            background-color: aqua;
            animation: blinker 1s linear infinite;
            width: 66%;
            border: 1px solid silver;
        }
    </style>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
        crossorigin="anonymous"></script>

    <title>Web Apps Assignment07</title>
</head>

<body>
    <h1>Find the treasure by Ramya Gopalam</h1>

    <div style="background-color: aqua;">Click on the locations to search
        for treasure, beware the traps</div>
    <div id="locations" style="background-color: rgb(51, 206, 36); color: rgb(73, 23, 252);">Number of locations checked is zero</div>
    <div id="penalty" style="background-color: rgb(74, 250, 21); color: rgb(54, 10, 247);">Penalty is zero</div>
    <div style="background-color: aqua;" id ="help">Click for help</div>
    <div style="background-color: rgb(14, 244, 83); color: rgb(109, 10, 248);" id="help";>Help report</div>

    <div class ="container text-center">
        <button class="btn btn-success" onclick="reset()">New Game</button>
    </div>

        <div class="row" style="padding-left: 150px;">
            <div class="col-md-2"><img id="0" onclick="check(0)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="1" onclick="check(1)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="2" onclick="check(2)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="3" onclick="check(3)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="4" onclick="check(4)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
        </div>
        <div class="row" style="padding-left: 150px;">
            <div class="col-md-2"><img id="5" onclick="check(5)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="6" onclick="check(6)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="7" onclick="check(7)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="8" onclick="check(8)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="9" onclick="check(9)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
        </div>
        <div class="row" style="padding-left: 150px;">
            <div class="col-md-2"><img id="10" onclick="check(10)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="11" onclick="check(11)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="12" onclick="help()" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="13" onclick="check(13)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="14" onclick="check(14)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
        </div>
        <div class="row" style="padding-left: 150px;">
            <div class="col-md-2"><img id="15" onclick="check(15)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="16" onclick="check(16)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="17" onclick="check(17)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="18" onclick="check(18)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="19" onclick="check(19)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
        </div>
        <div class="row" style="padding-left: 150px;">
            <div class="col-md-2"><img id="20" onclick="check(20)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="21" onclick="check(21)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="22" onclick="check(22)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="23" onclick="check(23)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
            <div class="col-md-2"><img id="24" onclick="check(24)" src="ti.jpg" alt="treasure"
                    style="width: 100px;height:100px;"></div>
        </div>
        
        </div>
        <script>
                let ids = []
                for(let i=0;i<25;i++)
                {
                    ids[i]=i;
                }
                let checkCount = 0
                let penalty = 0
                let lastCheck = 0
                let treasureLocation = 5
                let trapLocation = 18
                let gameOver = false
                function check(p)
                {
                    if(gameOver)
                    {
                        return
                    }
                    const img_id = ids[p]
                    tre_loc_img = document.getElementById(img_id)
                    if(p==treasureLocation)
                    {
                    tre_loc_img.src = "image.jpg"
                    gameOver=true
                    penalty = penalty-3
                    }
                    else if (p== trapLocation)
                    {
                    tre_loc_img.src = "tt.jpg"
                    gameOver=true
                    penalty=penalty+4
                    }
                    else
                    {
                        tre_loc_img.src="bones.jpg"
                    }
                    checkCount=checkCount+1
                    penalty=penalty+1
                    loc_text = document.getElementById("locations")
                    loc_text.innerHTML = `Number of locations checked is ${checkCount}`
                    pen_text = document.getElementById("penalty")
                    pen_text.innerHTML=`Penalty is ${penalty}`
                    lastCheck=p
            
                }
                function help()
                {
                    let col = lastCheck%5
                    let row = Math.floor(lastCheck/5)
            
                    let treasureCol = treasureLocation%5
                    let treasureRow = Math.floor(treasureLocation/5)
            
                    let col_diff = Math.abs(col-treasureCol) 
                    let row_diff = Math.abs(row-treasureRow)
            
                    let report = ""
            
                    if(((col_diff<=1)&&(row_diff==0))||((col_diff==0)&&(row_diff<=1)))
                    {
                    report = "Can smell it"
                    }
                    else if(col_diff+row_diff==2)
                    {
                        report = "Close Matie"
                    }
                    else
                    {
                        report = "Step Faster"
                    }
                    penalty=penalty+2
                    pen_text = document.getElementById("penalty")
                    pen_text.innerHTML=`Penalty is ${penalty}`
                    help_text = document.getElementById("help")
                    help_text.innerHTML=`Help report ${report}`
                }
                function reset() {
            checkCount = 0;
            penalty = 0
            treasureLocation = Math.round(Math.random() * (24));
            trapLocation = Math.round(Math.random() * (24));
            document.getElementById("locations").innerHTML = `Number of locations checked is ${checkCount}`
            document.getElementById("penalty").innerHTML = `Penalty is ${penalty}`

        }
            
                
                        
                </script>
            